@model BookStore.Models.ProductCategory
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<form id="CreateOrEdit" asp-route-id="@Model.CategoryId" asp-action="CreateOrEdit" method="post" asp-controller="ProductCategory" enctype="multipart/form-data">
    <div class="modal-body" id="modalBody">
        <div class="form-group">
            <label>Category Name</label>
            <input type="text" class="form-control inputName" asp-for="Name" placeholder="Nhập tên">
        </div>
        <div class="form-group">
            <label>Url Friendly</label>
            <input type="text" class="form-control inputUrl" asp-for="UrlFriendly" readonly placeholder="Url Friendly">
        </div>
        <div class="form-group">
            <label>Parent Category</label>
            <select class="form-control">
                @foreach (var p in ViewBag.category)
                {
                    if (Model.ParentId != null && Model.ParentId == p.ParentId)
                    {
                        <option selected value="@p.CategoryId">@p.Name</option>
                    }
                    else
                    {
                        <option value="@p.CategoryId">@p.Name</option>
                    }
                }
            </select>
        </div>
        <div class="form-check">
            <label class="form-check-label">Trạng thái hiển thị  </label>
            @{
                string tmp = "";
                if (Model.Status == 1)
                {
                    tmp = "checked";
                }
            }
            <input type="checkbox" @tmp data-toggle="toggle">
        </div>
    </div>
    <div class="modal-footer">
        <button type="submit" data-id="@Model.CategoryId" class="btn btn-primary btnSubmit">Submit</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
    </div>
</form>
<script src="~/js/Tools/SlugString.js"></script>
<script>
    $(function () {
        $(".inputName").change(function () {
            var string = $(this).val();
            $(".inputUrl").val(ChangeStringToSlug(string));
        });

        $('#CreateOrEdit').on('keyup keypress', function (e) {
            var keyCode = e.keyCode || e.which;
            if (keyCode === 13) {
                e.preventDefault();
                return false;
            }
        });
        //$('.btnSubmit').click(function (e) {
        //    e.preventDefault();
        //    var id = $(this).data("id");
        //    var data = $("#CreateOrEdit").serialize();
        //    var dataForm = new FormData($('#CreateOrEdit').get(0));
        //    console.log(dataForm);
        //    $.ajax({
        //        url: "/Admin/ProductCategory/CreateOrEdit",
        //        type:"POST",
        //        data: {
        //            id: id,
        //            data: data
        //        },
        //        success: function () {

        //        },
        //        error: function () {

        //        }
        //    });
        //});
    })
</script>
